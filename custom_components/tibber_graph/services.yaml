# Service definitions for Tibber Graph integration

set_option:
  name: Set option
  description: Update one or more configuration options for a Tibber Graph entity.
  fields:
    entity_id:
      name: Entity ID
      description: The entity ID of the Tibber Graph camera to update.
      required: true
      example: "camera.tibber_graph_nord_pool_price"
      selector:
        entity:
          integration: tibber_graph
          domain: camera
    options:
      name: Options
      description: Dictionary of options to update, where keys are option names and values are the new values.
      required: true
      example: '{"theme": "light", "canvas_width": 1920, "show_average_price_line": true}'
      selector:
        object:

reset_option:
  name: Reset option
  description: Reset one or more configuration options to their default values for a Tibber Graph entity.
  fields:
    entity_id:
      name: Entity ID
      description: The entity ID of the Tibber Graph camera to reset options for.
      required: true
      example: "camera.tibber_graph_nord_pool_price"
      selector:
        entity:
          integration: tibber_graph
          domain: camera
    options:
      name: Options
      description: List of option names to reset. Leave empty to reset all options to defaults.
      required: false
      example: '["theme", "canvas_width", "show_average_price_line"]'
      selector:
        object:

set_data_source:
  name: Set data source
  description: Change the price data source for a Tibber Graph entity. Can switch between Tibber integration and a custom price entity.
  fields:
    entity_id:
      name: Entity ID
      description: The entity ID of the Tibber Graph camera to update the data source for.
      required: true
      example: "camera.tibber_graph_nord_pool_price"
      selector:
        entity:
          integration: tibber_graph
          domain: camera
    price_entity_id:
      name: Price entity
      description: The entity ID of a sensor containing price data. Leave empty to use the Tibber integration instead.
      required: false
      example: "sensor.nord_pool_price"
      selector:
        entity:
          domain: sensor

render:
  name: Render
  description: Render the graph for a Tibber Graph entity. If entity_id is not provided, renders all Tibber Graph entities.
  fields:
    entity_id:
      name: Entity ID
      description: The entity ID of the Tibber Graph camera to render the image for. If not provided, all Tibber Graph entities will be rendered.
      required: false
      example: "camera.tibber_graph_nord_pool_price"
      selector:
        entity:
          integration: tibber_graph
          domain: camera
          multiple: true

set_custom_theme:
  name: Set custom theme
  description: Set a custom theme for a Tibber Graph entity. All theme properties must be provided. Call without theme_config to clear the custom theme and revert to the configured theme.
  fields:
    entity_id:
      name: Entity ID
      description: The entity ID of the Tibber Graph camera to set the custom theme for.
      required: true
      example: "camera.tibber_graph_nord_pool_price"
      selector:
        entity:
          integration: tibber_graph
          domain: camera
    theme_config:
      name: Theme config
      description: Dictionary containing all theme properties. If omitted or empty, clears the custom theme and reverts to the configured theme. Must include all required theme fields (please see documentation).
      required: false
      example: '{"axis_label_color": "#cfd6e6", "background_color": "#1c1c1c", "cheap_price_color": "#2d5a3d", "fill_alpha": 0.18, "fill_color": "#7dc3ff", "grid_alpha": 0.45, "grid_color": "#2a2f36", "label_color": "#e6edf3", "label_color_avg": "#eab308", "label_color_max": "#fb7185", "label_color_min": "#34d399", "label_stroke": true, "nowline_alpha": 0.5, "nowline_color": "#ff6b6b", "plot_linewidth": 1.0, "price_line_color": "#7dc3ff", "price_line_color_above_avg": "#fb7185", "price_line_color_below_avg": "#7dc3ff", "price_line_color_near_avg": "#eab308", "spine_color": "#3a4250", "tick_color": "#cfd6e6", "tickline_color": "#1f2530"}'
      selector:
        object:
